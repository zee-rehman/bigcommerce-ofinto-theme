{
  "components/common/json-file-customization": "<script>\r\n    const jsonPath = \"https://ofinto.ch/content/mega-menu/custom-mm.json?c={{random 999999 9999999}}\";\r\n    \r\n    $.getJSON(jsonPath, function(data) {\r\n      const navItems = data.navItems;\r\n      const navHelpItem = data.Hilfe;\r\n      const uspBannerTop = data.uspBanner;\r\n      const $uspBannerContainer = $('.announcementBar.usp-banner .announcement-bar-list');\r\n      const promoBannerTop = data.promoBanner;\r\n      const $promoBannerContainer = $('.announcementBar.promo-banner .announcement-bar-list');\r\n      let navHtml = '';\r\n      let navHelpHtml = '';\r\n     \r\n      \r\n      // Iterate through each navigation item for main navigation\r\n      navItems.forEach(item => {\r\n        if (item.type === \"megaMenu\") {  // Only process mega menus\r\n          let menuContent = `<li class=\"nav-item\">\r\n                <a class=\"navUser-action\" href=\"${item.label}\">${item.label} <i class=\"icon navPages-action-moreIcon\" aria-hidden=\"true\"><svg><use href=\"#icon-chevron-down\"></use></svg></i></a>\r\n                <div class=\"mega-menu-content\"><div class=\"container\"><div class=\"inner\">`;\r\n    \r\n          // Check for megaMenuType (\"products\" or \"info\")\r\n          if (item.megaMenu.megaMenuType === \"products\") {\r\n            // Process \"products\" type mega menu\r\n    \r\n            // Left section (Subcategories and Bottom Links)\r\n            if (item.megaMenu.leftSection) {\r\n              const leftSection = item.megaMenu.leftSection;\r\n              if (leftSection.title) {\r\n                menuContent += `<div class=\"left-section mob-vertical\"><h4 class=\"column-hd mob-hd\"><i class=\"icon navPages-action-moreIcon\" aria-hidden=\"true\"><svg><use href=\"#icon-chevron-down\"></use></svg></i> ${leftSection.title}</h4><ul>`;\r\n                \r\n                // Subcategories\r\n                leftSection.subCategories.forEach(sub => {\r\n                  menuContent += `\r\n                      <li>\r\n                    <a href=\"${sub.link}\">\r\n                        <i class=\"icon\" aria-hidden=\"true\">\r\n                            <svg><use href=\"#icon-megamenu-list\"></use></svg>\r\n                        </i>\r\n                        ${sub.label}\r\n                    </a>\r\n                    </li>\r\n                  `;\r\n                });\r\n                menuContent += '</ul>';\r\n                \r\n                // Bottom Links\r\n                if (leftSection.bottomLinks) {\r\n                  menuContent += '<div class=\"bottom-links desktop-only\"><ul>';\r\n                  leftSection.bottomLinks.forEach(link => {\r\n                    menuContent += `<li><a href=\"${link.link}\">${link.label}</a></li>`;\r\n                  });\r\n                  menuContent += '</ul></div>';\r\n                }\r\n    \r\n                menuContent += '</div>';  // Close left section\r\n              }\r\n            }\r\n    \r\n            // Product Selection with type condition\r\n            if (item.megaMenu.productSelection) {\r\n              const productSelection = item.megaMenu.productSelection;\r\n              if (productSelection.title && productSelection.title.trim() !== \"\") {\r\n                    menuContent += `<div class=\"product-selection\"><h4 class=\"column-hd product-sec-hd\">${productSelection.title}</h4><div class=\"product-inner\">`;\r\n              } else {\r\n                  menuContent += `<div class=\"product-selection\"><div class=\"product-inner\">`;\r\n              }\r\n              // Check for \"customProducts\" type\r\n              if (productSelection.type === \"customProducts\" && productSelection.customProducts) {\r\n                // Loop through custom products and generate HTML for product cards\r\n                productSelection.customProducts.forEach(product => {\r\n                  if (product.name) {\r\n                    menuContent += `\r\n                    <article class=\"card\" data-product-id=\"${product.productID}\">\r\n                      <a href=\"${product.productURL}\" title=\"${product.name}\">\r\n                      <figure class=\"card-figure\">\r\n                        <div class=\"card-img-container\">\r\n                            <img src=\"${product.image}\" alt=\"${product.name}\" title=\"${product.name}\" data-sizes=\"auto\" class=\"card-image lazyload\" />\r\n                        </div>\r\n                      </figure>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"card-top\">\r\n                            <h4 class=\"card-title\">\r\n                              <span>${product.name}</span>\r\n                            </h4>\r\n                            <div class=\"card-desc\">${product.description}</div>\r\n                        </div>\r\n                        <div class=\"card-price\">${product.price}</div>\r\n                      </div>\r\n                      </a>\r\n                    </article>`;\r\n                  }\r\n                });\r\n    \r\n              } else if (productSelection.type === \"category\" && productSelection.categoryID) {\r\n                // Handle \"category\" type (assuming this links to a category page)\r\n                menuContent += `<p>Explore products in <a href=\"/category/${productSelection.categoryID}\">Category ID: ${productSelection.categoryID}</a></p>`;\r\n              }\r\n    \r\n              menuContent += '</div><div class=\"bottom-links only-mob-bottom-links\" style=\"display:none;\"></div></div>';  // Close product selection\r\n            }\r\n    \r\n          } else if (item.megaMenu.megaMenuType === \"info\") {\r\n            // Process \"info\" type mega menu\r\n            const columns = item.megaMenu.columns;\r\n            \r\n            menuContent += '<div class=\"info-column-section\">';\r\n            columns.forEach(column => {\r\n              if (column.title) {\r\n                menuContent += `\r\n                    <div class=\"info-column\">\r\n                      <h4 class=\"column-hd mob-hd\"><i class=\"icon navPages-action-moreIcon\" aria-hidden=\"true\"><svg><use href=\"#icon-chevron-down\"></use></svg></i> ${column.title}</h4>\r\n                    <ul>\r\n                `;\r\n                \r\n                // Loop through items under each column\r\n                column.items.forEach(infoItem => {\r\n                  menuContent += `<li><a href=\"${infoItem.link}\">${infoItem.label}</a></li>`;\r\n                });\r\n    \r\n                menuContent += '</ul></div>';  // Close each info-column\r\n              }\r\n            });\r\n            menuContent += '</div>';  // Close Info Column Section\r\n          }\r\n    \r\n          // Right section (Promo or CTA)\r\n          if (item.megaMenu.rightSection && item.megaMenu.rightSection.enabled) {\r\n            const rightSection = item.megaMenu.rightSection;\r\n            if (rightSection.type === \"promo\" && rightSection.promoContainer) {\r\n              const promo = rightSection.promoContainer;\r\n              const promoHD = rightSection;\r\n              menuContent += `\r\n                  <div class=\"right-section promo\">\r\n                    <h4 class=\"column-hd promo-sec-hd\">${promoHD.title}</h4>\r\n                    <a href=\"${promo.link}\">\r\n                    <div class=\"promo-inner\">\r\n                        <div class=\"box box-left\">\r\n                            <h4 class=\"column-hd\">${promo.title}</h4>\r\n                            <p>${promo.text}</p>\r\n                            <div class=\"coupon-code\">\r\n                                <i class=\"icon\" aria-hidden=\"true\">\r\n                                    <svg><use href=\"#icon-coupon-code\"></use></svg>\r\n                                </i>\r\n                                <span class=\"code-text\">${promo.couponCode}</span>\r\n                            </div>\r\n                            <div class=\"price\">\r\n                                <span class=\"msrp-price\">${promo.price}</span>\r\n                                <span class=\"saleprice\">${promo.salePrice}</span>\r\n                            </div>\r\n                            <span class=\"buy-now\" style=\"display:none;\">Buy Now</span>\r\n                        </div>\r\n                        <div class=\"box box-right\">\r\n                            <figure class=\"card-figure\">\r\n                                <div class=\"card-img-container\">\r\n                                    <img src=\"${promo.image}\" alt=\"${promo.title}\" title=\"${promo.title}\" data-sizes=\"auto\" class=\"card-image lazyautosizes lazyload\" sizes=\"1887px\">\r\n                                </div>\r\n                            </figure>\r\n                        </div>\r\n                    </div>\r\n                    </a>\r\n                  </div>\r\n            `;\r\n              setTimeout (function(){\r\n                  $('.right-section.promo').parent().closest('.mega-menu-content').addClass('hasPromo');\r\n              },100);\r\n            } else if (rightSection.type === \"cta\" && rightSection.ctaContainer) {\r\n              const cta = rightSection.ctaContainer;\r\n              menuContent += `\r\n                  <div class=\"right-section cta\">\r\n                    <div class=\"cta-inner\">\r\n                        <div class=\"box box-left\">\r\n                            <h5><svg class=\"icon icon-customer-support\"><use xlink:href=\"#icon-cta-hd\"></use></svg>${cta.title}</h5>\r\n                            <p>${cta.text}</p>\r\n                        </div>\r\n                        <div class=\"box box-right\">\r\n                            <a class=\"cta-link\" href=\"${cta.buttonLink}\">${cta.buttonText}</a>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n             `;\r\n              setTimeout (function(){\r\n                  $('.right-section.cta').parent().closest('.mega-menu-content').addClass('hasCta');\r\n              },100);\r\n            }\r\n          }\r\n    \r\n          menuContent += '</div></li>';  // Close mega-menu-content and nav-item\r\n          navHtml += menuContent;\r\n        }\r\n      });\r\n      \r\n      // For Help menu and dropdown\r\n      if (navHelpItem.type === \"helpMenu\") {\r\n            let menuHelpContent = `\r\n                <a class=\"navUser-action\" href=\"${navHelpItem.mainLink}\">${navHelpItem.mainTitle} <i class=\"icon navPages-action-moreIcon\" aria-hidden=\"true\"><svg><use href=\"#icon-chevron-down\"></use></svg></i></a>\r\n                <div class=\"navUser-helpMenu mega-menu-content\">\r\n                    <div class=\"container\">\r\n                        <div class=\"help-menu-inner\">\r\n            `;\r\n            if (navHelpItem.megaMenu.megaMenuType === \"info\") {\r\n                if (navHelpItem.megaMenu.columns) {\r\n                  const columns = navHelpItem.megaMenu.columns[0];\r\n                  if (columns.title) {\r\n                    menuHelpContent += `<div class=\"box box-left\"><h5 class=\"help-info-heading mob-hd\"><i class=\"icon navPages-action-moreIcon\" aria-hidden=\"true\"><svg><use href=\"#icon-chevron-down\"></use></svg></i>${columns.title}</h5><ul class=\"help-info-list\">`;\r\n                    columns.items.forEach(items => {\r\n                      if (items.label) {\r\n                        menuHelpContent += `\r\n                        <li>\r\n                        <a href=\"${items.link}\">\r\n                            ${items.label}\r\n                        </a>\r\n                        </li>\r\n                        `;\r\n                      }\r\n                    });\r\n                    menuHelpContent += '</ul></div>';  // Close left section\r\n                  }\r\n                }\r\n                \r\n                if (navHelpItem.megaMenu.rightSection) {\r\n                  const rightSection = navHelpItem.megaMenu.rightSection.infoContainer;\r\n                  if (rightSection) {\r\n                    menuHelpContent += `\r\n                      <div class=\"box box-right\">\r\n                        <div class=\"help-question-box\">\r\n                          <h5>\r\n                            <svg class=\"icon icon-customer-support\">\r\n                              <use xlink:href=\"#icon-customer-support\"></use>\r\n                            </svg> \r\n                            ${rightSection.title}\r\n                          </h5>\r\n                          <p>${rightSection.text}</p>\r\n                        </div>\r\n                      </div>`;\r\n                  }\r\n                }\r\n                \r\n            }\r\n        \r\n            menuHelpContent += '</div></div></div>';  // Close left section\r\n            \r\n            navHelpHtml += menuHelpContent;\r\n        }\r\n      \r\n      // For USP Banner for header top\r\n      if (uspBannerTop.enabled === true) {\r\n          $('.announcementBar.usp-banner').show();\r\n          $.each(uspBannerTop.uspBannerItems, function(index, item) {\r\n            if (item.enabled) {\r\n              const $uspBannerList = $(`\r\n                <div class=\"announcement-bar-item-outer\">\r\n                    <div class=\"announcement-bar-item\">\r\n                      <img src=\"${item.icon}\" alt=\"${item.text}\">\r\n                      <a href=\"${item.link}\" target=\"_blank\">\r\n                        ${item.text}\r\n                      </a>\r\n                    </div>\r\n                </div>\r\n              `);\r\n              if (uspBannerTop.sticky === true) {\r\n                $('.announcementBar.usp-banner').addClass('sticky');\r\n                $('body').addClass('usp-sticky');\r\n              } else {\r\n                $('.announcementBar.usp-banner.sticky').removeClass('sticky');\r\n                $('body.usp-sticky').removeClass('usp-sticky');\r\n              }\r\n              // Append item to banner container\r\n              $uspBannerContainer.append($uspBannerList);\r\n            }\r\n          });\r\n      } else {\r\n        $('.announcementBar.usp-banner').hide();\r\n      }\r\n      \r\n      // For promo Banner for header top\r\n      if (promoBannerTop.enabled === true) {\r\n          $('.announcementBar.promo-banner').css('background-color','#eb6e38');\r\n          $('.announcementBar.promo-banner').show();\r\n          const $promoBannerList = $(`\r\n            <div class=\"announcement-bar-item\">\r\n              <a href=\"${promoBannerTop.link}\" target=\"_blank\">\r\n                ${promoBannerTop.text}\r\n              </a>\r\n            </div>\r\n          `);\r\n          if (promoBannerTop.sticky === true) {\r\n              $('.announcementBar.promo-banner').addClass('sticky');\r\n            $('body').addClass('promo-sticky');\r\n          } else {\r\n            $('.announcementBar.promo-banner.sticky').removeClass('sticky');  \r\n            $('body.promo-sticky').removeClass('usp-sticky');\r\n          }\r\n          // Append item to banner container\r\n          $promoBannerContainer.append($promoBannerList);\r\n      } else {\r\n        $('.announcementBar.promo-banner').hide();\r\n      }\r\n    \r\n      // Append generated HTML to the navigation container\r\n      $('.mega-menu .nav-json-items').html(navHtml);\r\n      // Append generated HTML to the Help navigation container\r\n      $('.navUser-section--help').html(navHelpHtml);\r\n      \r\n      $('#menuMobile .nav-categories--items').html(navHtml);\r\n      $('#menuMobile .nav-help--items').append($('<li class=\"nav-item\">'+navHelpHtml+'</li>'));\r\n      \r\n         // Following code using for cloning bottom sectio of first row at the end of middle product section if left section not have bottom section it will also remove cloning outer div from the product middle section.\r\n         $('#menuMobile .nav-items .nav-item').each(function(){\r\n            var cloneData = $(this).find(\".left-section .bottom-links ul\");\r\n            if (cloneData.length > 0) {\r\n                var clonedContent = cloneData.clone();\r\n                $(this).find(\".only-mob-bottom-links\").append(clonedContent);\r\n            } else {\r\n                $(this).find(\".only-mob-bottom-links\").remove();\r\n            }\r\n        });\r\n    \r\n        // Follwing code make wrap 2 div to managing for mobile structure cta box bottom and other at the top\r\n        setTimeout (function(){\r\n        $('#menu-mobile .mega-menu-content.hasCta').each(function () {\r\n            var leftSection = $(this).find('.left-section');\r\n            var productSection = $(this).find('.product-selection');\r\n            if (leftSection.length > 0 && productSection.length > 0) {\r\n                leftSection.add(productSection).wrapAll('<div class=\"cta-inner-wrapper\"></div>');\r\n            }\r\n        });\r\n        },500 );\r\n        \r\n    });\r\n</script>"
}